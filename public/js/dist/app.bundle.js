(()=>{"use strict";function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function a(e,t,n,r){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),this.x=e,this.y=t,this.obstacles=n,this.weapons=r,this.generatedMap=[],this.players=[]}var t,n;return t=a,(n=[{key:"createMatrix",value:function(){for(var e=0;e<this.y;e++){this.generatedMap[e]=[];for(var a=0;a<this.x;a++)this.generatedMap[e][a]=0}}},{key:"generateRandomNumber",value:function(e){return Math.floor(Math.random()*e)}},{key:"genrateObstacles",value:function(){for(var e=0;e<this.y;e++)for(var a=this.generateRandomNumber(.4*this.y),t=0;t<a;t++)for(var n=!1;0==n;){var r=this.generateRandomNumber(this.obstacles.length),s=this.generateRandomNumber(this.y);0==this.generatedMap[e][s]&&(n=!0,this.generatedMap[e][s]=this.obstacles[r])}}},{key:"generateWeapons",value:function(){for(var e=0;e<this.weapons.length;e++)for(var a=!1;0==a;){var t=this.generateRandomNumber(this.generatedMap.length),n=this.generateRandomNumber(this.generatedMap[e].length);0==this.generatedMap[t][n]&&(this.generatedMap[t][n]=this.weapons[e],a=!0)}}},{key:"generatePlayers",value:function(){for(var e=0;e<this.players.length;e++)for(var a=!1;0==a;){var t=this.generateRandomNumber(this.generatedMap.length),n=this.generateRandomNumber(this.generatedMap[e].length);if(0==this.generatedMap[t][n]){var r="ob",s="ob",i="ob",o="ob";if(void 0!==this.generatedMap[t-1]){if(this.generatedMap[t-1][n]==this.players[0]||this.generatedMap[t-1][n]==this.players[1])continue;r=this.generatedMap[t-1][n]}if(void 0!==this.generatedMap[t+1]){if(this.generatedMap[t+1][n]==this.players[0]||this.generatedMap[t+1][n]==this.players[1])continue;s=this.generatedMap[t+1][n]}if(void 0!==this.generatedMap[t][n-1]){if(this.generatedMap[t][n-1]==this.players[0]||this.generatedMap[t][n-1]==this.players[1])continue;i=this.generatedMap[t][n-1]}if(void 0!==this.generatedMap[t][n+1]){if(this.generatedMap[t][n+1]==this.players[0]||this.generatedMap[t][n+1]==this.players[1])continue;o=this.generatedMap[t][n+1]}if(r.toString().includes("ob")&&s.toString().includes("ob")&&i.toString().includes("ob")&&o.toString().includes("ob"))continue;this.generatedMap[t][n]=this.players[e],a=!0}}}},{key:"generateMap",value:function(){this.createMatrix(this.x,this.y),this.genrateObstacles(),this.generateWeapons(),this.generatePlayers()}},{key:"visualizeMap",value:function(){for(var e=$(".map-grid"),a=0;a<this.generatedMap.length;a++)for(var t=$('<div id="row-'+[a]+'"class="map-grid__row"></div>'),n=0;n<this.generatedMap[a].length;n++){var r=$("<div></div>");r.addClass("case"),r.attr("id","case-"+[a]+"-"+[n]),r.text(this.generatedMap[a][n]),e.append(t),t.append(r),r.each((function(){var e="case__"+$(this).text();$(this).empty(),$(this).addClass(e)}))}}}])&&e(t.prototype,n),a}();function t(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=0,this.y=0,this.health=100,this.weapon=0}var a,n;return a=e,(n=[{key:"movePlayer",value:function(){document.addEventListener("keydown",(function(e){var a=$(".case__player_one").attr("id"),t=a.substring(5,6),n=a.substring(7,8),r=0,s=0,i="case__player_one";"ArrowUp"==e.key?(s=(r+=1)-1,$("#case-"+(t-r)+"-"+n).addClass(i),$("#case-"+(t-s)+"-"+n).removeClass(i)):"ArrowDown"==e.key?(s=1+--r,$("#case-"+(t-r)+"-"+n).addClass(i),$("#case-"+(t-s)+"-"+n).removeClass(i)):"ArrowLeft"==e.key?(s=(r+=1)-1,$("#case-"+t+"-"+(n-r)).addClass(i),$("#case-"+t+"-"+(n-s)).removeClass(i)):"ArrowRight"==e.key&&(s=1+--r,$("#case-"+t+"-"+(n-r)).addClass(i),$("#case-"+t+"-"+(n-s)).removeClass(i)),e.repeat?console.log('Key "'.concat(e.key,'" repeating  [event: keydown]')):console.log('Key "'.concat(e.key,'" pressed  [event: keydown]'))}))}}])&&t(a.prototype,n),e}(),r=new a(10,10,["obstacle_one","obstacle_two","obstacle_three","obstacle_four"],["weapon_one","weapon_two","weapon_three","weapon_four"],new n,new n);r.generateMap(),r.visualizeMap()})();